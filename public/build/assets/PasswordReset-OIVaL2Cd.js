import{r,j as s,q as I,W as _}from"./app-CKfLfX7q.js";import{I as p}from"./InputError-C42AgHK1.js";import{I as u}from"./InputLabel-DTR3JRfm.js";import{P as F}from"./PrimaryButton-K_MS4VLt.js";import{T as f}from"./TextInput-MtIZ_yO3.js";import{O as x,C as g,a as S,T as w,D as h,R as E,P as T}from"./index-CgvnWWHh.js";import{C as q}from"./react-icons.esm-C70__wmV.js";import{c as d}from"./utils-BM_CldAA.js";import{B as z}from"./button-CnTWfQKJ.js";const O=E,B=T,j=r.forwardRef(({className:e,...a},t)=>s.jsx(x,{ref:t,className:d("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a}));j.displayName=x.displayName;const y=r.forwardRef(({className:e,children:a,...t},o)=>s.jsxs(B,{children:[s.jsx(j,{}),s.jsxs(g,{ref:o,className:d("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t,children:[a,s.jsxs(S,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(q,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));y.displayName=g.displayName;const N=({className:e,...a})=>s.jsx("div",{className:d("flex flex-col space-y-1.5 text-center sm:text-left",e),...a});N.displayName="DialogHeader";const b=({className:e,...a})=>s.jsx("div",{className:d("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...a});b.displayName="DialogFooter";const k=r.forwardRef(({className:e,...a},t)=>s.jsx(w,{ref:t,className:d("text-lg font-semibold leading-none tracking-tight",e),...a}));k.displayName=w.displayName;const v=r.forwardRef(({className:e,...a},t)=>s.jsx(h,{ref:t,className:d("text-sm text-muted-foreground",e),...a}));v.displayName=h.displayName;function U({isOpen:e,onClose:a}){const[t,o]=r.useState(e);r.useEffect(()=>{o(e)},[e]);const l=()=>{o(!1),a()};return s.jsx(O,{open:t,onOpenChange:l,children:s.jsxs(y,{className:"sm:max-w-[425px]",children:[s.jsxs(N,{children:[s.jsx(k,{children:"Password Updated Successfully"}),s.jsx(v,{children:"Your password has been updated successfully."})]}),s.jsx(b,{children:s.jsx(z,{onClick:l,children:"Close"})})]})})}function K({className:e=""}){const a=I().props.auth.user,[t,o]=r.useState(!1),{data:l,setData:c,errors:m,put:C,reset:P,processing:D}=_({password:"",password_confirmation:"",userId:a.pterodactyl_id}),R=n=>{n.preventDefault(),C(route("pterodactyl.reset-password"),{onSuccess:i=>{i.props.flash.status?(console.log("Response from password reset:",i.props.flash.status),P(),o(!0)):console.error("No status found in the response")},onError:i=>{console.error("Failed to send request:",i)}})};return s.jsxs("div",{className:`p-6 bg-white dark:bg-black rounded-lg shadow-md ${e}`,children:[s.jsxs("header",{children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Reset Your Password"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Please enter your new password below."})]}),t&&s.jsx(U,{isOpen:t,onClose:()=>o(!1)}),s.jsxs("form",{onSubmit:R,className:"mt-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx(u,{htmlFor:"password",value:"New Password"}),s.jsx(f,{id:"password",value:l.password,onChange:n=>c("password",n.target.value),type:"password",className:"mt-1 block w-full bg-white text-black dark:bg-black dark:text-white",autoComplete:"new-password",required:!0}),s.jsx(p,{message:m.password,className:"mt-2"})]}),s.jsxs("div",{children:[s.jsx(u,{htmlFor:"password_confirmation",value:"Confirm Password"}),s.jsx(f,{id:"password_confirmation",value:l.password_confirmation,onChange:n=>c("password_confirmation",n.target.value),type:"password",className:"mt-1 block w-full bg-white text-black dark:bg-black dark:text-white",autoComplete:"new-password",required:!0}),s.jsx(p,{message:m.password_confirmation,className:"mt-2"})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsx(F,{disabled:D,children:"Reset Password"})})]})]})}export{K as default};
