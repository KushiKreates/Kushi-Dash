import{r as h,q as X,j as s,m as Z}from"./app-CPOEIljs.js";import{B as q}from"./button-eEqjswbG.js";import{A as B,a as O,b as U,c as z,d as F,e as H,f as P}from"./alert-dialog-CT-B0vup.js";import{I as ee}from"./input-DblQC-rj.js";import{L as te}from"./label-DOv-fn02.js";import{C as Y,a as se,b as $,d as Q,e as ae}from"./card-Bgh2vyw6.js";import{C as re}from"./circle-check-CubFW-9P.js";import{c as oe}from"./createLucideIcon-qc0XlodV.js";import"./utils-BM_CldAA.js";import"./index-B2vZC__5.js";import"./index-B7zntmxJ.js";import"./index-Cz6_P-h8.js";import"./index-ChuBIvQJ.js";/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=oe("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]),E=e=>typeof e=="number"&&!isNaN(e),y=e=>typeof e=="string",V=e=>typeof e=="function",ie=e=>h.isValidElement(e)||y(e)||V(e)||E(e),l=new Map;let A=[];const R=new Set,_=()=>l.size>0;function le(e,t){var r;if(t)return!((r=l.get(t))==null||!r.isToastActive(e));let o=!1;return l.forEach(n=>{n.isToastActive(e)&&(o=!0)}),o}function ce(e,t){ie(e)&&(_()||A.push({content:e,options:t}),l.forEach(r=>{r.buildToast(e,t)}))}function W(e,t){l.forEach(r=>{t!=null&&t!=null&&t.containerId?(t==null?void 0:t.containerId)===r.id&&r.toggle(e,t==null?void 0:t.id):r.toggle(e,t==null?void 0:t.id)})}let de=1;const G=()=>""+de++;function ue(e){return e&&(y(e.toastId)||E(e.toastId))?e.toastId:G()}function C(e,t){return ce(e,t),t.toastId}function M(e,t){return{...t,type:t&&t.type||e,toastId:ue(t)}}function w(e){return(t,r)=>C(t,M(e,r))}function a(e,t){return C(e,M("default",t))}a.loading=(e,t)=>C(e,M("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),a.promise=function(e,t,r){let o,{pending:n,error:i,success:x}=t;n&&(o=y(n)?a.loading(n,r):a.loading(n.render,{...r,...n}));const I={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},g=(m,j,b)=>{if(j==null)return void a.dismiss(o);const k={type:m,...I,...r,data:b},p=y(j)?{render:j}:j;return o?a.update(o,{...k,...p}):a(p.render,{...k,...p}),b},c=V(e)?e():e;return c.then(m=>g("success",x,m)).catch(m=>g("error",i,m)),c},a.success=w("success"),a.info=w("info"),a.error=w("error"),a.warning=w("warning"),a.warn=a.warning,a.dark=(e,t)=>C(e,M("default",{theme:"dark",...t})),a.dismiss=function(e){(function(t){var r;if(_()){if(t==null||y(r=t)||E(r))l.forEach(o=>{o.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){const o=l.get(t.containerId);o?o.removeToast(t.id):l.forEach(n=>{n.removeToast(t.id)})}}else A=A.filter(o=>t!=null&&o.options.toastId!==t)})(e)},a.clearWaitingQueue=function(e){e===void 0&&(e={}),l.forEach(t=>{!t.props.limit||e.containerId&&t.id!==e.containerId||t.clearQueue()})},a.isActive=le,a.update=function(e,t){t===void 0&&(t={});const r=((o,n)=>{var i;let{containerId:x}=n;return(i=l.get(x||1))==null?void 0:i.toasts.get(o)})(e,t);if(r){const{props:o,content:n}=r,i={delay:100,...o,...t,toastId:t.toastId||e,updateId:G()};i.toastId!==e&&(i.staleId=e);const x=i.render||n;delete i.render,C(x,i)}},a.done=e=>{a.update(e,{progress:1})},a.onChange=function(e){return R.add(e),()=>{R.delete(e)}},a.play=e=>W(!0,e),a.pause=e=>W(!1,e);function Me(){const{flash:e,linkvertiseEnabled:t,status:r,auth:o}=X().props,[n,i]=h.useState(!1),[x,I]=h.useState(0),[g,c]=h.useState(!1),[m,j]=h.useState({question:"",answer:0}),[b,k]=h.useState(""),[p,N]=h.useState(!1),[S,L]=h.useState("");h.useEffect(()=>{if(e.success){const f=e.success.match(/You have earned (\d+) coins!/);f&&f[1]&&(I(f[1]),i(!0))}e.error&&a.error(e.error),e.linkvertiseUrl&&(window.location.href=e.linkvertiseUrl),g||L(""),r==="Success"&&i(!0)},[e,g,r]);const T=()=>{const f=["+","-","x","/"],D=f[Math.floor(Math.random()*f.length)];let d,u,v;switch(D){case"+":d=Math.floor(Math.random()*10)+1,u=Math.floor(Math.random()*10)+1,v=d+u;break;case"-":d=Math.floor(Math.random()*10)+1,u=Math.floor(Math.random()*d)+1,v=d-u;break;case"x":d=Math.floor(Math.random()*5)+1,u=Math.floor(Math.random()*5)+1,v=d*u;break;case"/":u=Math.floor(Math.random()*5)+1,v=Math.floor(Math.random()*5)+1,d=u*v;break}j({question:`${d} ${D} ${u} = ?`,answer:v})},J=()=>{T(),c(!0)},K=()=>{parseInt(b)===m.answer?(N(!0),c(!1),Z.post(route("generate.linkvertise"),{},{onSuccess:()=>{c(!1),N(!1)},onError:()=>{N(!1),a.error("An error occurred while generating the Linkvertise link.")}})):(L("Hmm though luck, Maybe use a calculator next time?"),T(),k(""),c(!0))};return s.jsxs("div",{className:"container mx-auto py-8",children:[s.jsxs(Y,{className:"max-w-full mx-auto",children:[s.jsx(se,{children:s.jsx($,{className:"text-2xl font-bold",children:"Earn Coins"})}),s.jsxs(Q,{children:[e.success&&s.jsx("div",{className:"alert alert-success",children:e.success}),e.error&&s.jsx("div",{className:"alert alert-error",children:e.error}),s.jsx("p",{className:"",children:"Click the button below to earn coins through Linkvertise. (We recommend you try your best to ignore the ads)"}),s.jsx("p",{className:"text-red-500 font-bold font-doto mt-3",children:"⚠️ Using bypassers won't earn you coins and will result in a report! Avoid Linkvertise as it provides minimal support to the community—choose fair methods to benefit everyone."})]}),s.jsx(ae,{children:t?s.jsx(q,{onClick:J,children:"Earn Coins"}):s.jsx("p",{className:"font-doto ",children:"Linkvertise is currently disabled."})})]}),s.jsx(B,{open:n,onOpenChange:i,children:s.jsxs(O,{className:"max-w-md",children:[s.jsxs(U,{children:[s.jsxs(z,{className:"flex items-center gap-2",children:[s.jsx(re,{className:"h-6 w-6 text-green-500"}),"Success!"]}),s.jsx(F,{className:"text-base",children:"You have successfully earned coins!"})]}),s.jsx(H,{children:s.jsx(P,{onClick:()=>i(!1),children:"Continue"})})]})}),s.jsx(B,{open:g,onOpenChange:c,children:s.jsxs(O,{className:"max-w-md",children:[s.jsxs(U,{children:[s.jsx(z,{children:"Your not a Robot right?"}),s.jsx(F,{children:"Please solve the following arithmetic problem to verify your an human:"})]}),s.jsxs("div",{className:"py-4",children:[s.jsx(te,{htmlFor:"captcha",className:"text-lg font-semibold",children:m.question}),s.jsx(ee,{id:"captcha",type:"number",value:b,onChange:f=>k(f.target.value),className:"mt-2",placeholder:"Enter your answer"}),S&&s.jsx("p",{className:"text-red-500 mt-2",children:S})]}),s.jsxs(H,{children:[s.jsx(P,{onClick:K,disabled:p,children:p?"Loading...":"Submit"}),s.jsx(q,{onClick:()=>c(!1),variant:"outline",children:"Close"})]})]})}),p&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs(Y,{className:"p-6 rounded-lg shadow-lg text-center",children:[s.jsx(ne,{className:"animate-spin h-12 w-12 text-blue-500 mx-auto mb-4"}),s.jsx($,{className:"text-lg font-semibold",children:"Loading..."}),s.jsx(Q,{children:s.jsx("p",{children:"Please wait while we generate your Linkvertise link."})})]})})]})}export{Me as default};
