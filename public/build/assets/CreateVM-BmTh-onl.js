import{q as c,r as o,v as C,j as e}from"./app-CPOEIljs.js";import{A as u,a as x,b as h,c as p,d as g,e as b,f as j}from"./alert-dialog-CT-B0vup.js";import"./index-B2vZC__5.js";import"./index-B7zntmxJ.js";import"./index-Cz6_P-h8.js";import"./index-ChuBIvQJ.js";import"./utils-BM_CldAA.js";import"./button-eEqjswbG.js";function V(){var m;const{vmsConfig:D,auth:y}=c().props,[N,n]=o.useState(!1),[f,i]=o.useState(!1);o.useState(null);const{flash:l}=c().props;(m=l==null?void 0:l.status)==null||m.includes("Error");const{data:t,setData:a,post:v,processing:d,errors:s}=C({name:"",egg_id:"",nest_id:"",memory:"",disk:"",cpu:"",databases:"",backups:"",allocations:""});y.user;const k=()=>{n(!1),router.visit("/dashboard")},w=r=>{r.preventDefault(),v(route("admin.vms.store"))};return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Create Virtual Machine"}),e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name"}),e.jsx("input",{id:"name",type:"text",value:t.name,onChange:r=>a("name",r.target.value),placeholder:"Enter VM name",className:`mt-1 block w-full rounded-md border-gray-300 shadow-sm ${s.name?"border-red-500":""}`,required:!0}),s.name&&e.jsx("p",{className:"text-sm text-red-500",children:s.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"egg_id",className:"block text-sm font-medium text-gray-700",children:"Egg ID"}),e.jsx("input",{id:"egg_id",type:"text",value:t.egg_id,onChange:r=>a("egg_id",r.target.value),placeholder:"Enter Egg ID",className:`mt-1 block w-full rounded-md border-gray-300 shadow-sm ${s.egg_id?"border-red-500":""}`,required:!0}),s.egg_id&&e.jsx("p",{className:"text-sm text-red-500",children:s.egg_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"nest_id",className:"block text-sm font-medium text-gray-700",children:"Nest ID"}),e.jsx("input",{id:"nest_id",type:"text",value:t.nest_id,onChange:r=>a("nest_id",r.target.value),placeholder:"Enter Nest ID",className:`mt-1 block w-full rounded-md border-gray-300 shadow-sm ${s.nest_id?"border-red-500":""}`,required:!0}),s.nest_id&&e.jsx("p",{className:"text-sm text-red-500",children:s.nest_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"memory",className:"block text-sm font-medium text-gray-700",children:"Memory (MB)"}),e.jsx("input",{id:"memory",type:"number",value:t.memory,onChange:r=>a("memory",r.target.value),placeholder:"Enter Memory",className:`mt-1 block w-full rounded-md border-gray-300 shadow-sm ${s.memory?"border-red-500":""}`,required:!0}),s.memory&&e.jsx("p",{className:"text-sm text-red-500",children:s.memory})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"disk",className:"block text-sm font-medium text-gray-700",children:"Disk (MB)"}),e.jsx("input",{id:"disk",type:"number",value:t.disk,onChange:r=>a("disk",r.target.value),placeholder:"Enter Disk",className:`mt-1 block w-full rounded-md border-gray-300 shadow-sm ${s.disk?"border-red-500":""}`,required:!0}),s.disk&&e.jsx("p",{className:"text-sm text-red-500",children:s.disk})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"cpu",className:"block text-sm font-medium text-gray-700",children:"CPU (%)"}),e.jsx("input",{id:"cpu",type:"number",value:t.cpu,onChange:r=>a("cpu",r.target.value),placeholder:"Enter CPU",className:`mt-1 block w-full rounded-md border-gray-300 shadow-sm ${s.cpu?"border-red-500":""}`,required:!0}),s.cpu&&e.jsx("p",{className:"text-sm text-red-500",children:s.cpu})]}),e.jsx("button",{type:"submit",disabled:d,className:`w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-white ${d?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"}`,children:d?"Creating...":"Create VM"})]}),e.jsx(u,{open:N,onOpenChange:n,children:e.jsxs(x,{children:[e.jsxs(h,{children:[e.jsx(p,{children:"Success!"}),e.jsx(g,{children:"VM template was created successfully."})]}),e.jsx(b,{children:e.jsx(j,{onClick:k,children:"Continue"})})]})}),e.jsx(u,{open:f,onOpenChange:i,children:e.jsxs(x,{children:[e.jsxs(h,{children:[e.jsx(p,{children:"Error"}),e.jsx(g,{children:"There was an error creating the VM template."})]}),e.jsx(b,{children:e.jsx(j,{onClick:()=>i(!1),children:"Close"})})]})})]})}export{V as default};
