import{r as n,W as w,j as e}from"./app-Dm8cIE4T.js";import{C as b,a as D,b as v,d as y,e as A}from"./card-BcIbXjuy.js";import{C as k,F as S,a as F}from"./CreateNew-DYTlcdlo.js";import{B as o}from"./button-DgGlTW6a.js";import{A as d,a as m,b as x,c as h,d as j,e as u,g as T,f as g}from"./alert-dialog-DWkt10LR.js";import{m as P}from"./proxy-BqRsr-Q7.js";import{L as E}from"./loader-circle-Bkkx-D_Q.js";import{C as H}from"./circle-check-B1MVLKFc.js";import"./utils-BM_CldAA.js";import"./index-C_uji-SS.js";import"./index-DKrXWNRO.js";import"./index-DLTLx8j3.js";import"./index-C_FO5VxW.js";import"./index-BnBCp9FI.js";import"./createLucideIcon-Bdj_7l1A.js";const Q=({plans:t=[]})=>{const[a,l]=n.useState(null),{delete:f,processing:r}=w(),[N,i]=n.useState(!1),p=()=>{a&&f(route("admin.plans.destroy",a.id),{onSuccess:()=>{l(null),i(!0)}})};return!t||t.length===0?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx(k,{go:"/admin/plans/new"})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:t.map(s=>e.jsx(P.div,{whileHover:{scale:1.02},className:"h-full",children:e.jsxs(b,{className:"h-full flex flex-col",children:[e.jsx(D,{children:e.jsxs(v,{className:"flex items-center gap-3",children:[s.icon&&e.jsx("img",{src:s.icon,alt:"",className:"w-8 h-8 rounded"}),e.jsx("span",{className:"truncate",children:s.name})]})}),e.jsxs(y,{className:"flex-grow",children:[s.image&&e.jsx("div",{className:"mb-4",children:e.jsx("img",{src:s.image,alt:s.name,className:"w-full h-32 object-cover rounded-md"})}),e.jsxs("p",{className:"text-2xl font-bold dark:text-white text-black mb-4",children:["$",s.price]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Resources:"}),e.jsx("ul",{className:"space-y-1",children:Object.entries(s.resources).map(([c,C])=>e.jsxs("li",{className:"flex justify-between text-sm text-gray-600 dark:text-white",children:[e.jsxs("span",{className:"capitalize",children:[c,":"]}),e.jsx("span",{children:C})]},c))})]}),s.discount&&e.jsx("div",{className:"mt-4",children:e.jsxs("span",{className:"text-green-600 font-semibold",children:["Discount: ",s.discount,"%"]})}),e.jsxs("div",{className:"text-sm text-gray-500 mt-4",children:["Created: ",new Date(s.created_at).toLocaleDateString()]})]}),e.jsxs(A,{className:"flex justify-between mt-auto",children:[e.jsxs(o,{variant:"link",onClick:()=>window.location.href=`/admin/plans/edit/${s.id}`,children:["Edit ",e.jsx(S,{className:"ml-2"})]}),e.jsxs(o,{variant:"destructive",onClick:()=>l(s),children:["Delete ",e.jsx(F,{className:"ml-2"})]})]})]})},s.id))}),e.jsx(d,{open:!!a,onOpenChange:()=>l(null),children:e.jsxs(m,{children:[e.jsxs(x,{children:[e.jsx(h,{children:"Are you absolutely sure?"}),e.jsxs(j,{children:["This action cannot be undone. This will permanently delete"," ",e.jsx("span",{className:"font-semibold",children:a==null?void 0:a.name}),"."]})]}),e.jsxs(u,{children:[e.jsx(T,{onClick:()=>l(null),children:"Cancel"}),e.jsx(g,{onClick:p,className:"bg-red-600 hover:bg-red-700",disabled:r,children:r?e.jsx(E,{className:"mr-2 h-4 w-4 animate-spin"}):"Delete"})]})]})}),e.jsx(d,{open:N,onOpenChange:i,children:e.jsxs(m,{className:"max-w-md",children:[e.jsxs(x,{children:[e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-6 w-6 text-green-500"}),"Success!"]}),e.jsx(j,{className:"text-base",children:"Plan deleted successfully!"})]}),e.jsx(u,{children:e.jsx(g,{onClick:()=>i(!1),children:"Continue"})})]})})]})};export{Q as default};
