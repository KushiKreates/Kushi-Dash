import{q as j,v,j as e}from"./app-CPOEIljs.js";import{B as l}from"./button-eEqjswbG.js";import{C as g,a as y,b as C,d as N}from"./card-Bgh2vyw6.js";import{I as t}from"./input-DblQC-rj.js";import{T as b}from"./textarea-DvqqmYbK.js";import{L as a}from"./label-DOv-fn02.js";import{S as f}from"./switch-BKsmGszV.js";import{S as P,a as S,b as F,c as k,d as m}from"./select-DO_Wo6w3.js";import{c as T}from"./createLucideIcon-qc0XlodV.js";import{P as w}from"./plus-C8yKVeAb.js";import"./utils-BM_CldAA.js";import"./index-B2vZC__5.js";import"./index-CZqrbxx3.js";import"./index-J1yvMNNS.js";import"./floating-ui.dom-Ds7Fmnq9.js";import"./index-Cz6_P-h8.js";import"./react-icons.esm-CK1D20Wk.js";/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=T("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);function Q(){const{plan:s}=j().props,{data:r,setData:c,put:h,processing:d,errors:o}=v({name:(s==null?void 0:s.name)??"",price:(s==null?void 0:s.price)??"",icon:(s==null?void 0:s.icon)??"",image:(s==null?void 0:s.image)??"",description:(s==null?void 0:s.description)??"",resources:(s==null?void 0:s.resources)??{cpu:0,memory:0,disk:0,databases:0,allocations:0,backups:0,servers:0},discount:(s==null?void 0:s.discount)??0,visibility:(s==null?void 0:s.visibility)??!0,redirect:(s==null?void 0:s.redirect)??"",perCustomer:(s==null?void 0:s.perCustomer)??"",planType:(s==null?void 0:s.planType)??"monthly",perPerson:(s==null?void 0:s.perPerson)??1,stock:(s==null?void 0:s.stock)??0,kushiConfig:(s==null?void 0:s.kushiConfig)??null}),u=i=>{i.preventDefault(),h(`/plans/${s.id}`)};return e.jsx("div",{className:"p-6",children:e.jsxs(g,{children:[e.jsx(y,{children:e.jsxs(C,{children:["Edit Plan: ",s==null?void 0:s.name]})}),e.jsx(N,{children:e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"name",children:"Name"}),e.jsx(t,{id:"name",value:r.name,onChange:i=>c("name",i.target.value)}),o.name&&e.jsx("p",{className:"text-sm text-red-500",children:o.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"price",children:"Price"}),e.jsx(t,{id:"price",type:"number",value:r.price,onChange:i=>c("price",i.target.value)}),o.price&&e.jsx("p",{className:"text-sm text-red-500",children:o.price})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"icon",children:"Icon URL"}),e.jsx(t,{id:"icon",value:r.icon,onChange:i=>c("icon",i.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"image",children:"Image URL"}),e.jsx(t,{id:"image",value:r.image,onChange:i=>c("image",i.target.value)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"description",children:"Description"}),e.jsx(b,{id:"description",value:r.description,onChange:i=>c("description",i.target.value)})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Resources"}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(r.resources).map(([i,x])=>e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{children:i.charAt(0).toUpperCase()+i.slice(1)}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(l,{type:"button",variant:"outline",size:"icon",onClick:()=>{const n=Math.max(0,(r.resources[i]||0)-1);c("resources",{...r.resources,[i]:n})},children:e.jsx(I,{className:"h-4 w-4"})}),e.jsx(t,{type:"number",value:x,onChange:n=>{const p=parseInt(n.target.value)||0;c("resources",{...r.resources,[i]:p})},className:"w-24 text-center"}),e.jsx(l,{type:"button",variant:"outline",size:"icon",onClick:()=>{const n=(r.resources[i]||0)+1;c("resources",{...r.resources,[i]:n})},children:e.jsx(w,{className:"h-4 w-4"})})]})]},i))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"discount",children:"Discount"}),e.jsx(t,{id:"discount",type:"number",value:r.discount,onChange:i=>c("discount",i.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"perCustomer",children:"Per Customer"}),e.jsx(t,{id:"perCustomer",value:r.perCustomer,onChange:i=>c("perCustomer",i.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"planType",children:"Plan Type"}),e.jsxs(P,{value:r.planType,onValueChange:i=>c("planType",i),children:[e.jsx(S,{children:e.jsx(F,{})}),e.jsxs(k,{children:[e.jsx(m,{value:"monthly",children:"Monthly"}),e.jsx(m,{value:"lifetime",children:"Lifetime"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"stock",children:"Stock"}),e.jsx(t,{id:"stock",type:"number",value:r.stock,onChange:i=>c("stock",i.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"perPerson",children:"Per Person"}),e.jsx(t,{id:"perPerson",type:"number",value:r.perPerson,onChange:i=>c("perPerson",i.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"redirect",children:"Redirect URL"}),e.jsx(t,{id:"redirect",value:r.redirect,onChange:i=>c("redirect",i.target.value)})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(f,{id:"visibility",checked:r.visibility,onCheckedChange:i=>c("visibility",i)}),e.jsx(a,{htmlFor:"visibility",children:"Visibility"})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(l,{type:"button",variant:"outline",onClick:()=>window.history.back(),children:"Cancel"}),e.jsx(l,{type:"submit",disabled:d,children:d?"Saving...":"Save Changes"})]})]})})]})})}export{Q as default};
