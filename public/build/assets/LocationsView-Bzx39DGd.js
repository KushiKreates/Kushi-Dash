import{q as k,r as i,W as A,j as e}from"./app-Dm8cIE4T.js";import{C as S,a as F,b as L,d as M,e as T}from"./card-BcIbXjuy.js";import{C as q,F as E,a as R}from"./CreateNew-DYTlcdlo.js";import{B as m}from"./button-DgGlTW6a.js";import{A as x,a as h,b as j,c as p,d as u,e as f,g as H,f as g}from"./alert-dialog-DWkt10LR.js";import"./label-Cskz7mPN.js";import{m as O}from"./proxy-BqRsr-Q7.js";import{c as P}from"./createLucideIcon-Bdj_7l1A.js";import{L as B}from"./loader-circle-Bkkx-D_Q.js";import{C as $}from"./circle-check-B1MVLKFc.js";import"./utils-BM_CldAA.js";import"./index-C_uji-SS.js";import"./index-DKrXWNRO.js";import"./index-DLTLx8j3.js";import"./index-C_FO5VxW.js";import"./index-BnBCp9FI.js";/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=P("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),ie=()=>{const{flash:l,locations:N}=k().props,[r,C]=i.useState(N||[]),[a,n]=i.useState(null),{delete:w,processing:t}=A(),[y,c]=i.useState(!1),[b,o]=i.useState(null);i.useEffect(()=>{l!=null&&l.status&&(o(l.status),c(!0))},[l]);const D=()=>{a&&w(route("locations.destroy",a.id),{onSuccess:()=>{n(null),C(s=>s.filter(v=>v.id!==a.id))}})},d=()=>{c(!1),o(null)};return!r||r.length===0?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx(q,{go:"/admin/locations/new"})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:r.map(s=>e.jsx(O.div,{whileHover:{scale:1.02},className:"h-full",children:e.jsxs(S,{className:"h-full flex flex-col",children:[e.jsx(F,{children:e.jsxs(L,{className:"flex items-center gap-3",children:[e.jsx(z,{className:"h-5 w-5"}),e.jsx("span",{className:"truncate",children:s.name})]})}),e.jsx(M,{className:"flex-grow",children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-semibold",children:"Details:"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Location:"}),e.jsx("span",{className:"font-medium",children:s.location})]}),e.jsxs("li",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Servers:"}),e.jsxs("span",{className:"font-medium",children:[s.servers,"/",s.maxservers]})]}),e.jsxs("li",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Required Rank:"}),e.jsx("span",{className:"font-medium",children:s.requiredRank})]}),e.jsxs("li",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{children:"Flag:"}),e.jsx("img",{src:s.flag,alt:`${s.name} flag`,className:"h-6 w-auto"})]})]})]})})}),e.jsxs(T,{className:"flex justify-between mt-auto",children:[e.jsxs(m,{variant:"link",onClick:()=>window.location.href=`/admin/locations/edit/${s.id}`,children:["Edit ",e.jsx(E,{className:"ml-2"})]}),e.jsxs(m,{variant:"destructive",onClick:()=>n(s),children:["Delete ",e.jsx(R,{className:"ml-2"})]})]})]})},s.id))}),e.jsx(x,{open:!!a,onOpenChange:()=>n(null),children:e.jsxs(h,{children:[e.jsxs(j,{children:[e.jsx(p,{children:"Are you absolutely sure?"}),e.jsxs(u,{children:["This action cannot be undone. This will permanently delete"," ",e.jsx("span",{className:"font-semibold",children:a==null?void 0:a.name}),"."]})]}),e.jsxs(f,{children:[e.jsx(H,{onClick:()=>n(null),children:"Cancel"}),e.jsx(g,{onClick:D,className:"bg-red-600 hover:bg-red-700",disabled:t,children:t?e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete"})]})]})}),e.jsx(x,{open:y,onOpenChange:d,children:e.jsxs(h,{className:"max-w-md",children:[e.jsxs(j,{children:[e.jsxs(p,{className:"flex items-center gap-2",children:[e.jsx($,{className:"h-6 w-6 text-green-500"}),"Success!"]}),e.jsx(u,{className:"text-base",children:b||"Operation completed successfully!"})]}),e.jsx(f,{children:e.jsx(g,{onClick:d,children:"Continue"})})]})})]})};export{ie as default};
